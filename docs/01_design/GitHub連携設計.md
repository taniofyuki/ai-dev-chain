# GitHub連携設計

## 1. ブランチ／PRルール

### 1.1 フェーズ単位PR
1フェーズ = 1PR とする。

### 1.2 ブランチ命名規則
```
phase/<NN>_<フェーズ名（日本語）>
```

### 1.3 PR構成
PRタイトル：
```
[Phase NN] <フェーズ名（日本語）>
```

PR本文に必須：
- 実行概要
- 生成・更新した成果物（リンク）
- 重要な判断・決定
- 未解決事項
- 次フェーズへの引き継ぎ
- 当該フェーズの report へのリンク

---

## 2. マージルール

- 承認者：人（1名以上）
- マージ条件：
  - 整合性チェックに BLOCK が存在しない
  - 承認が1件以上
- 自動マージ：ON / OFF 切替可能

---

## 3. コンフリクト時の扱い

- コンフリクト発生時は **即フェーズを Blocked**
- 自動解消は行わない
- 人の対応を待つ

---

## 4. BLOCK解消不能時の運用

### 4.1 通知

PRを作成せず、以下を必須とする。

- `/docs/reports/<phase>.md` への詳細記録
- Notificationイベントの発行


### 4.2 判断待ちの扱い

- 判断待ちは BLOCK ではなく **WARN（要判断）**
- PRを作成してレビューで判断
- PR / report に以下を明記：
  - 論点
  - 選択肢
  - 各選択肢の影響

仮決定の場合：

- WARN扱い
- 根拠と前提を必ず記載
- spec に未確定状態を残さない
